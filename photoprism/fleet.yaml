defaultNamespace: media

helm:
  repo: https://p80n.github.io/photoprism-helm/
  chart: photoprism
  releaseName: photoprism
  values:
    image:
      tag: "230514"
    service:
      type: LoadBalancer
    securityContext:
      fsGroup: 1000
      runAsUser: 1000
      runAsGroup: 1000
    persistence:
      enabled: true
      storagePath: &storagePath /photoprism/storage
      originalsPath: &originalsPath /photoprism/originals
      volumeClaimTemplates:
        - metadata:
            name: storage
          spec:
            accessModes: ["ReadWriteOnce"]
            resources:
              requests:
                storage: 100Gi
      volumes:
        - name: originals
          nfs:
            server: truenas.fritz.box
            path: /mnt/hdd-pool/christian/Bilder/Archiv
      volumeMounts:
        - name: originals
          mountPath: *originalsPath
        - name: storage
          mountPath: *storagePath
    config:
      PHOTOPRISM_DEBUG: false
      PHOTOPRISM_PUBLIC: false
      PHOTOPRISM_READONLY: true
      PHOTOPRISM_DETECT_NSFW: true
      PHOTOPRISM_DISABLE_WEBDAV: true